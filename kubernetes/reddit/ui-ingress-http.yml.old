---
# этот конфигурационный файл определяет Ingress ресурс с именем "ui", 
# который настроен на использование сервиса "ui" и порта 9292 в качестве backend для маршрутизации входящих HTTP запросов.
apiVersion: networking.k8s.io/v1
kind: Ingress
# Определяет метаданные для ресурса, такие как имя.
metadata:
  # имя Ingress ресурса.
  name: ui
# спецификация Ingress ресурса.
spec:
 # здесь мы определяем правила маршрутизации для входящих запросов.
  rules:
  # мы указываем, что будем маршрутизировать запросы по HTTP протоколу.
  - http:
      # здесь мы определяем пути, которые будут маршрутизироваться.
      paths:
      # мы определяем, что будем маршрутизировать запросы с корневого пути.
      - path: /
        # это указывает, что мы будем использовать префиксное сопоставление для маршрутизации запросов. 
        # То есть любой запрос, который начинается с указанного пути, будет считаться соответствующим.
        pathType: Prefix
        # здесь мы определяем, какой сервис будет обрабатывать запросы, соответствующие указанному пути.
        backend:
          # мы указываем, что будем использовать сервис для обработки запросов.
          service:
            # мы указываем имя сервиса, который будет обрабатывать запросы.
            name: ui
            # Порт на который будет посылаться трафик на сервис NodePort (прописан в ui-service.yml)
            port:
              number: 9292
